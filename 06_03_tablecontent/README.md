# 目次表示ブラウザ拡張機能

## 概要
Webページの目次を自動的に抽出し、移動可能なボックスとして表示するFirefox拡張機能です。

## ファイル構成
```
.
├── manifest.json      # 拡張機能の設定ファイル
├── content.js         # ページの目次を抽出・表示するメインスクリプト
├── background.js      # バックグラウンドスクリプト
├── styles.css         # 目次ボックスのスタイル定義
└── icons/            # 拡張機能のアイコン
    └── search_64dp.png
```

## 実装方針

### 1. 目次の抽出 (content.js)
- `h1`から`h6`までの見出しタグを検索
- 見出しの階層構造を保持
- 各見出しのテキストとIDを取得

### 2. 目次ボックスの表示
- 固定位置に表示する移動可能なdiv要素を作成
- 以下の要素を含む：
  - タイトルバー（ドラッグ可能）
  - 閉じるボタン
  - 目次リスト
  - スクロール可能な領域

### 3. スタイリング (styles.css)
- 目次ボックスのデザイン
  - 半透明の背景
  - 影効果
  - スクロールバーのカスタマイズ
- ドラッグ可能な領域のスタイル
- 見出しの階層に応じたインデント

### 4. 機能実装
- 目次項目のクリックで該当箇所へスクロール
- ドラッグ＆ドロップによる位置移動
- 閉じるボタンによる非表示
- ページ読み込み完了時に自動表示

## 使用方法
1. 拡張機能をインストール
2. 任意のWebページを開く
3. 目次ボックスが自動的に表示される
4. 必要に応じて移動や非表示が可能 